extends layout

block content  
  form(method="post" onsubmit='return Validate();')
    .container
    .row
      .col
        h1 Bé tập tính
    .row
      .col-3
        | Số thứ nhất:
      .col-5
        input#a(type='text' placeholder='Nhập số' onfocusout='return check1();' title='Nhập số' name='num1' value=num1value)
      .col-2
        input#add(type='radio' name='calc' value='btnadd')
        label(for='add') Cộng
      .col-2
        input#subtract(type='radio' name='calc' value='btnsub')
        label(for='subtract') Trừ
    .row
      .col-3
        | Số thứ hai:
      .col-5
        input#b(type='text' placeholder='Nhập số' onfocusout='return check2();' title='Nhập số' name='num2' value=num2value)
      .col-2
        input#multiply(type='radio' name='calc' value='btnmul')
        label(for='multiply') Nhân
      .col-2
        input#divide(type='radio' name='calc' value='btndiv')
        label(for='divide') Chia
    .row
      .col-3
        | Kết quả:
      .col-5
        input#result(type='text' readonly='' title='Kết quả sẽ hiển thị ở đây' value=resultvalue)
      input#btnTinh.col-3(type='submit' value='Tính' title='Tính toán kết quả')
    .row
      .col-3
        | Thông báo:
      .col-5
        label#lablenotification(for='')
  script(src='https://code.jquery.com/jquery-3.5.1.slim.min.js' integrity='sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj' crossorigin='anonymous')
  script(src='https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js' integrity='sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN' crossorigin='anonymous')
  script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js' integrity='sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s' crossorigin='anonymous')
  script(type='text/javascript').
    function Validate() {
      var calculation = document.getElementsByName("calc");
      var value;
      var a = Number(document.getElementById("a").value);
      var b = Number(document.getElementById("b").value);
      if(document.getElementById("a").value == "" || document.getElementById("b").value =="" || isNaN(Number(document.getElementById("a").value)) || isNaN(Number(document.getElementById("b").value)))
      {
        document.getElementById("lablenotification").innerHTML = "Bạn phải nhập đủ hai số hợp lệ.";
        return false;
      }
      if(!(calculation[0].checked || calculation[1].checked || calculation[2].checked || calculation[3].checked))
      {
        document.getElementById("lablenotification").innerHTML = "Bạn chưa chọn phép tính.";
        return false;
      }
      if(calculation[3].checked)
      {
        if(b != 0)
        {
          document.getElementById("lablenotification").innerHTML = "";
        }
        else
        {
          document.getElementById("result").value = "";
          document.getElementById("lablenotification").innerHTML = "Không hợp lệ. (Không thể chia cho 0).";
          return false;
        }
      }
      return true;
    }
    function check1()
    {
      if(isNaN(Number(document.getElementById("a").value)))
      {
        document.getElementById("lablenotification").innerHTML = "Giá trị nhập ở ô <i>Số thứ nhất</i> không phải là số.";
        return false;
      }
      else
      {
        document.getElementById("lablenotification").innerHTML = "";
        return true;
      }
    }
    function check2()
    {
      if(isNaN(Number(document.getElementById("b").value)))
      {
        document.getElementById("lablenotification").innerHTML = "Giá trị nhập ở ô <i>Số thứ hai</i> không phải là số.";
        return false;
      }
      else
      {
        document.getElementById("lablenotification").innerHTML = "";
        return true;
      }
    }
    

